<Window x:Class="InventoryApp.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:InventoryApp"
        xmlns:vm="clr-namespace:InventoryApp.ViewModels"
        mc:Ignorable="d"
        Title="{Binding Title}" Height="800" Width="1200"
        WindowStartupLocation="CenterScreen">
    
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <!-- Header -->
        <Border Grid.Row="0" Background="#2C3E50" Padding="20,15">
            <TextBlock Text="{Binding Title}" 
                       FontSize="24" 
                       FontWeight="Bold" 
                       Foreground="White"
                       HorizontalAlignment="Center"/>
        </Border>
        
        <!-- Statistics Panel -->
        <Border Grid.Row="1" Background="#ECF0F1" Padding="20,15">
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                <Border Background="#3498DB" CornerRadius="8" Padding="15,10" Margin="0,0,20,0">
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="💰" FontSize="20" Margin="0,0,10,0"/>
                        <StackPanel>
                            <TextBlock Text="Toplam Değer" Foreground="White" FontWeight="Bold"/>
                            <TextBlock Text="{Binding TotalInventoryValue, StringFormat='{}{0:C}'}" 
                                       Foreground="White" FontSize="18"/>
                        </StackPanel>
                    </StackPanel>
                </Border>
                
                <Border Background="#E74C3C" CornerRadius="8" Padding="15,10">
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="⚠️" FontSize="20" Margin="0,0,10,0"/>
                        <StackPanel>
                            <TextBlock Text="Düşük Stok" Foreground="White" FontWeight="Bold"/>
                            <TextBlock Text="{Binding LowStockCount}" 
                                       Foreground="White" FontSize="18"/>
                        </StackPanel>
                    </StackPanel>
                </Border>
            </StackPanel>
        </Border>
        
        <!-- Main Content -->
        <Grid Grid.Row="2" Margin="20">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="200"/>
                <ColumnDefinition Width="20"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>
            
            <!-- Left Navigation Panel -->
            <Border Grid.Column="0" Background="#34495E" CornerRadius="8" Padding="0">
                <StackPanel>
                    <TextBlock Text="📱 MENÜ" 
                               FontSize="16" FontWeight="Bold" 
                               Foreground="White" 
                               HorizontalAlignment="Center"
                               Margin="0,15,0,20"/>
                    
                    <Button x:Name="AnasayfaButton" 
                            Content="🏠 Anasayfa" 
                            Style="{StaticResource MenuButtonStyle}"
                            Click="MenuButton_Click" Tag="Anasayfa"/>
                    
                    <Button x:Name="StokButton" 
                            Content="📦 Stok" 
                            Style="{StaticResource MenuButtonStyle}"
                            Click="MenuButton_Click" Tag="Stok"/>
                    
                    <Button x:Name="SatislarButton" 
                            Content="💰 Satışlar" 
                            Style="{StaticResource MenuButtonStyle}"
                            Click="MenuButton_Click" Tag="Satislar"/>
                    
                    <Button x:Name="IstatistiklerButton" 
                            Content="📊 İstatistikler" 
                            Style="{StaticResource MenuButtonStyle}"
                            Click="MenuButton_Click" Tag="Istatistikler"/>
                    
                    <Button x:Name="AyarlarButton" 
                            Content="⚙️ Ayarlar" 
                            Style="{StaticResource MenuButtonStyle}"
                            Click="MenuButton_Click" Tag="Ayarlar"/>
                </StackPanel>
            </Border>
            
            <!-- Content Area -->
            <Grid Grid.Column="2">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>
                
                <!-- Search and Actions -->
                <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,15">
                    <TextBox Text="{Binding SearchText, UpdateSourceTrigger=PropertyChanged}"
                             Width="300" Height="35" 
                             VerticalContentAlignment="Center"
                             Margin="0,0,10,0">
                        <TextBox.InputBindings>
                            <KeyBinding Key="Enter" Command="{Binding SearchProductsCommand}"/>
                        </TextBox.InputBindings>
                    </TextBox>
                    
                    <Button Content="🔍 Ara" 
                            Command="{Binding SearchProductsCommand}"
                            Height="35" Padding="15,0" Margin="0,0,10,0"/>
                    
                    <Button Content="➕ Yeni Ürün" 
                            Command="{Binding AddProductCommand}"
                            Background="#27AE60" Foreground="White"
                            Height="35" Padding="15,0" Margin="0,0,10,0"/>
                    
                    <Button Content="✏️ Düzenle" 
                            Command="{Binding EditProductCommand}"
                            Background="#F39C12" Foreground="White"
                            Height="35" Padding="15,0" Margin="0,0,10,0"/>
                    
                    <Button Content="🗑️ Sil" 
                            Command="{Binding DeleteProductCommand}"
                            Background="#E74C3C" Foreground="White"
                            Height="35" Padding="15,0"/>
                </StackPanel>
                
                <!-- Products DataGrid -->
                <DataGrid Grid.Row="1"
                          ItemsSource="{Binding Products}"
                          SelectedItem="{Binding SelectedProduct}"
                          AutoGenerateColumns="False"
                          CanUserAddRows="False"
                          CanUserDeleteRows="False"
                          GridLinesVisibility="Horizontal"
                          HeadersVisibility="Column"
                          SelectionMode="Single">
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="ID" Binding="{Binding Id}" Width="50"/>
                        <DataGridTextColumn Header="Ürün Adı" Binding="{Binding Name}" Width="200"/>
                        <DataGridTextColumn Header="Barkod" Binding="{Binding Barcode}" Width="120"/>
                        <DataGridTextColumn Header="Kategori" Binding="{Binding Category.Name}" Width="100"/>
                        <DataGridTextColumn Header="Fiyat" Binding="{Binding Price, StringFormat='{}{0:C}'}" Width="100"/>
                        <DataGridTextColumn Header="Stok" Binding="{Binding StockQuantity}" Width="80"/>
                        <DataGridTextColumn Header="Açıklama" Binding="{Binding Description}" Width="*"/>
                    </DataGrid.Columns>
                </DataGrid>
            </Grid>
        </Grid>
        
        <!-- Status Bar -->
        <StatusBar Grid.Row="3" Background="#BDC3C7">
            <StatusBarItem>
                <TextBlock Text="{Binding Products.Count, StringFormat='Toplam Ürün: {0}'}"/>
            </StatusBarItem>
            <Separator/>
            <StatusBarItem>
                <StackPanel Orientation="Horizontal">
                    <TextBlock Text="Durum: "/>
                    <TextBlock Text="{Binding IsBusy, Converter={x:Static local:BoolToStringConverter.Instance}, ConverterParameter='Yükleniyor...|Hazır'}"/>
                </StackPanel>
            </StatusBarItem>
        </StatusBar>
    </Grid>
</Window>
